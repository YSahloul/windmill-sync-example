summary: Example of same_worker using the './shared' folder
description: ''
value:
  modules:
    - summary: write to file
      value:
        content: >
          // import * as wmill from
          "https://deno.land/x/windmill@v1.36.0/mod.ts"


          export async function main(path: string) {
            Deno.writeTextFile(`./shared/${path}`, "foo");
          }
        input_transforms:
          path:
            expr: '`${flow_input.path}`'
            type: javascript
        language: deno
        lock: ''
        type: rawscript
      id: a
      input_transforms: {}
    - summary: read from file
      value:
        content: >
          // import * as wmill from
          "https://deno.land/x/windmill@v1.36.0/mod.ts"


          export async function main(path: string) {
            return Deno.readTextFile(`./shared/${path}`)
          }
        input_transforms:
          path:
            expr: '`${flow_input.path}`'
            type: javascript
        language: deno
        lock: ''
        type: rawscript
      id: b
      input_transforms: {}
  same_worker: true
schema:
  $schema: 'https://json-schema.org/draft/2020-12/schema'
  properties:
    path:
      description: ''
      default: test
      format: ''
      type: string
  required:
    - path
  type: object
